<!DOCTYPE HTML>
<html lang="en" >
    
    <head>
        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>Jak pracować z bazami danych? | Przewodnik po pakiecie R v. 4.0</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.6.7">
        
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="../gitbook/style.css">
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-katex/katex.min.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-expandable-chapters/expandable-chapters.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-highlight/website.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-search/search.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-fontsettings/website.css">
        
    
    
        <link rel="stylesheet" href="../styles/website.css">
    

        
    
    
    <link rel="next" href="../Programowanie/generatory_llosowych.html" />
    
    
    <link rel="prev" href="../Programowanie/pazury/rownolegle.html" />
    

        
    </head>
    <body>
        
        
    <div class="book"
        data-level="2.15"
        data-chapter-title="Jak pracować z bazami danych?"
        data-filepath="Programowanie/jak_pracowac_z_bazami_danych.md"
        data-basepath=".."
        data-revision="Mon Apr 18 2016 22:55:52 GMT+0200 (CEST)"
        data-innerlanguage="">
    

<div class="book-summary">
    <nav role="navigation">
        <ul class="summary">
            
            
            
            

            

            
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../index.html">
                
                        <i class="fa fa-check"></i>
                        
                        Introduction
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="contribute.html">
            
                
                    <a href="../contribute.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                        Podrasuj Przewodnik!
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1" data-path="co_nowego.html">
            
                
                    <a href="../co_nowego.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.</b>
                        
                        Co nowego?
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2" data-path="puste.html">
            
                
                    <a href="../puste.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                        Programowanie w języku R
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1" >
            
            <span><b>2.1.</b> Jak korzystać z tej książki?</span>
            
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="Programowanie/podstawy/dlaczego_R.html">
            
                
                    <a href="../Programowanie/podstawy/dlaczego_R.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.</b>
                        
                        Dlaczego R?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="Programowanie/podstawy/jak_zainstalowac_R.html">
            
                
                    <a href="../Programowanie/podstawy/jak_zainstalowac_R.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.3.</b>
                        
                        Jak zainstalować R i RStudio?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="Programowanie/podstawy/jak_zaczac.html">
            
                
                    <a href="../Programowanie/podstawy/jak_zaczac.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.4.</b>
                        
                        Jak rozpocząć pracę z R?
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.4.1" data-path="Programowanie/podstawy/indeksy.html">
            
                
                    <a href="../Programowanie/podstawy/indeksy.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.4.1.</b>
                        
                        Jak pracować z wektorami?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.4.2" >
            
            <span><b>2.4.2.</b> Jak pracować z tabelami danych?</span>
            
            
        </li>
    
        <li class="chapter " data-level="2.4.3" >
            
            <span><b>2.4.3.</b> Jak pracować z listami?</span>
            
            
        </li>
    
        <li class="chapter " data-level="2.4.4" data-path="Programowanie/podstawy/co_zrobic_z_datami.html">
            
            <span><b>2.4.4.</b> Co można zrobić z datami/liczbami/czynnikami/napisami?</span>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="Programowanie/zapisywac.html">
            
                
                    <a href="../Programowanie/zapisywac.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.5.</b>
                        
                        Jak wczytywać i zapisywać dane?
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.5.1" data-path="Programowanie/jak_wczytac_tabele_danych_z_pliku_csv_lub_txt.html">
            
                
                    <a href="../Programowanie/jak_wczytac_tabele_danych_z_pliku_csv_lub_txt.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.5.1.</b>
                        
                        Jak wczytać tabele danych z pliku csv lub txt?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.5.2" data-path="Programowanie/jak_wczytac_dane_z_excela.html">
            
                
                    <a href="../Programowanie/jak_wczytac_dane_z_excela.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.5.2.</b>
                        
                        Jak wczytać tabele danych z Excela?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.5.3" data-path="Programowanie/jak_wczytywac_tabele_z_formatu_html.html">
            
                
                    <a href="../Programowanie/jak_wczytywac_tabele_z_formatu_html.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.5.3.</b>
                        
                        Jak wczytać tabele danych ze strony www?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.5.4" data-path="Programowanie/jak_zeskrobywac_dane_ze_stron_www_uzywajac_pakietu.html">
            
                
                    <a href="../Programowanie/jak_zeskrobywac_dane_ze_stron_www_uzywajac_pakietu.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.5.4.</b>
                        
                        Jak zeskrobywać dane ze stron www?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.5.5" data-path="Programowanie/jak_wczytywac_korpusy_tekstu.html">
            
                
                    <a href="../Programowanie/jak_wczytywac_korpusy_tekstu.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.5.5.</b>
                        
                        Jak wczytywać korpusy tekstu?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.5.6" data-path="Programowanie/jak_pobierac_dane_z_twittera.html">
            
                
                    <a href="../Programowanie/jak_pobierac_dane_z_twittera.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.5.6.</b>
                        
                        Jak pobierać dane z Twittera?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.5.7" data-path="Programowanie/jak_pobrac_dane_z.html">
            
                
                    <a href="../Programowanie/jak_pobrac_dane_z.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.5.7.</b>
                        
                        Jak pobrać dane z...?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.5.8" data-path="Programowanie/zadania.html">
            
                
                    <a href="../Programowanie/zadania.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.5.8.</b>
                        
                        Zadania
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.6" data-path="Programowanie/czyscic_przetwarzac.html">
            
                
                    <a href="../Programowanie/czyscic_przetwarzac.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.6.</b>
                        
                        Jak czyścić i przetwarzać dane?
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.6.1" data-path="Programowanie/filter.html">
            
                
                    <a href="../Programowanie/filter.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.6.1.</b>
                        
                        Jak filtrować wiersze?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.6.2" data-path="Programowanie/mutate.html">
            
                
                    <a href="../Programowanie/mutate.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.6.2.</b>
                        
                        Jak tworzyć nowe kolumny?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.6.3" data-path="Programowanie/select.html">
            
                
                    <a href="../Programowanie/select.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.6.3.</b>
                        
                        Jak wybierać kolumny?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.6.4" data-path="Programowanie/arrange.html">
            
                
                    <a href="../Programowanie/arrange.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.6.4.</b>
                        
                        Jak sortować wiersze?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.6.5" data-path="Programowanie/potoki.html">
            
                
                    <a href="../Programowanie/potoki.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.6.5.</b>
                        
                        Jak pracować z potokami?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.6.6" data-path="Programowanie/groupby.html">
            
                
                    <a href="../Programowanie/groupby.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.6.6.</b>
                        
                        Jak wyznaczać agregaty w grupach?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.6.7" data-path="Programowanie/tidyr.html">
            
                
                    <a href="../Programowanie/tidyr.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.6.7.</b>
                        
                        Jak czyścić dane?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.6.8" data-path="Programowanie/zadaniaDplyr.html">
            
                
                    <a href="../Programowanie/zadaniaDplyr.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.6.8.</b>
                        
                        Zadania
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.7" data-path="Programowanie/podstawy/jak_tworzyc_petle.html">
            
                
                    <a href="../Programowanie/podstawy/jak_tworzyc_petle.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.7.</b>
                        
                        Jak tworzyć pętle i instrukcje warunkowe?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.8" data-path="Programowanie/podstawy/jak_tworzyc_funkcje.html">
            
                
                    <a href="../Programowanie/podstawy/jak_tworzyc_funkcje.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.8.</b>
                        
                        Jak tworzyć funkcje?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.9" data-path="Programowanie/pakiety/po_co.html">
            
                
                    <a href="../Programowanie/pakiety/po_co.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.9.</b>
                        
                        Jak budować pakiety?
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.9.1" data-path="Programowanie/pakiety/nowy_pakiet.html">
            
                
                    <a href="../Programowanie/pakiety/nowy_pakiet.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.9.1.</b>
                        
                        Jak stworzyć nowy pakiet?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.9.2" data-path="Programowanie/pakiety/nowa_funkcja.html">
            
                
                    <a href="../Programowanie/pakiety/nowa_funkcja.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.9.2.</b>
                        
                        Jak dodawać funkcje do pakietu?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.9.3" data-path="Programowanie/pakiety/nowe_dane.html">
            
                
                    <a href="../Programowanie/pakiety/nowe_dane.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.9.3.</b>
                        
                        Jak dodawać zbiory danych do pakietu?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.9.4" data-path="Programowanie/pakiety/nowe_testy.html">
            
                
                    <a href="../Programowanie/pakiety/nowe_testy.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.9.4.</b>
                        
                        Jak dodawać testy do pakietu?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.9.5" data-path="Programowanie/pakiety/nowe_budowanie.html">
            
                
                    <a href="../Programowanie/pakiety/nowe_budowanie.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.9.5.</b>
                        
                        Jak budować stworzony pakiet?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.9.6" data-path="Programowanie/pakiety/co_dalej.html">
            
                
                    <a href="../Programowanie/pakiety/co_dalej.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.9.6.</b>
                        
                        Co dalej?
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.10" data-path="Programowanie/jak_tworzyc_aplikajce.html">
            
                
                    <a href="../Programowanie/jak_tworzyc_aplikajce.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.10.</b>
                        
                        Jak budować aplikacje z pakietem Shiny?
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.10.1" data-path="Programowanie/jak_tworzyc_aplikajce0.html">
            
                
                    <a href="../Programowanie/jak_tworzyc_aplikajce0.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.10.1.</b>
                        
                        Jak zbudować pierwszą aplikację?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.10.2" data-path="Programowanie/jak_tworzyc_aplikajce1.html">
            
                
                    <a href="../Programowanie/jak_tworzyc_aplikajce1.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.10.2.</b>
                        
                        Jak umieszczać wyniki analiz w aplikacji?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.10.3" data-path="Programowanie/jak_tworzyc_aplikajce2.html">
            
                
                    <a href="../Programowanie/jak_tworzyc_aplikajce2.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.10.3.</b>
                        
                        Jak umieszać elementy kontrolujące w aplikacji?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.10.4" data-path="Programowanie/jak_tworzyc_aplikajce3.html">
            
                
                    <a href="../Programowanie/jak_tworzyc_aplikajce3.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.10.4.</b>
                        
                        Jak tworzyć reaktywne elementy w aplikacji?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.10.5" data-path="Programowanie/jak_tworzyc_aplikajce4.html">
            
                
                    <a href="../Programowanie/jak_tworzyc_aplikajce4.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.10.5.</b>
                        
                        I co dalej?
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.11" data-path="Programowanie/jak_tworzyc_raporty.html">
            
                
                    <a href="../Programowanie/jak_tworzyc_raporty.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.11.</b>
                        
                        Jak tworzyć raporty z pakietem knitr?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.12" data-path="Programowanie/pazury/debugowanie.html">
            
                
                    <a href="../Programowanie/pazury/debugowanie.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.12.</b>
                        
                        Jak debugować kod R?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.13" data-path="Programowanie/pazury/profilowanie.html">
            
                
                    <a href="../Programowanie/pazury/profilowanie.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.13.</b>
                        
                        Jak badać czas działania kodu?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.14" data-path="Programowanie/pazury/rownolegle.html">
            
                
                    <a href="../Programowanie/pazury/rownolegle.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.14.</b>
                        
                        Jak zrównoleglić obliczenia w R?
                    </a>
            
            
        </li>
    
        <li class="chapter active" data-level="2.15" data-path="Programowanie/jak_pracowac_z_bazami_danych.html">
            
                
                    <a href="../Programowanie/jak_pracowac_z_bazami_danych.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.15.</b>
                        
                        Jak pracować z bazami danych?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.16" data-path="Programowanie/generatory_llosowych.html">
            
                
                    <a href="../Programowanie/generatory_llosowych.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.16.</b>
                        
                        Jak generować liczby losowe?
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.16.1" data-path="Programowanie/generatory_1.html">
            
                
                    <a href="../Programowanie/generatory_1.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.16.1.</b>
                        
                        Jak ustawiać ziarno generatora?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.16.2" data-path="Programowanie/generatory_2.html">
            
                
                    <a href="../Programowanie/generatory_2.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.16.2.</b>
                        
                        Jak losować z prostych rozkładów?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.16.3" data-path="Programowanie/generatory_3.html">
            
                
                    <a href="../Programowanie/generatory_3.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.16.3.</b>
                        
                        Jak losować ze złożonych rozkładów?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.16.4" data-path="Programowanie/generatory_4.html">
            
                
                    <a href="../Programowanie/generatory_4.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.16.4.</b>
                        
                        Jak losować z użyciem kopuli?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.16.5" data-path="Programowanie/generatory_5.html">
            
                
                    <a href="../Programowanie/generatory_5.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.16.5.</b>
                        
                        Jak estymować parametry rozkładu?
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.17" data-path="Programowanie/jak_korzystac_z_serwisu_github_i_waffle.html">
            
                
                    <a href="../Programowanie/jak_korzystac_z_serwisu_github_i_waffle.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.17.</b>
                        
                        Jak korzystać z serwisu GitHub?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.18" data-path="Programowanie/jak_korzystac_z_serwisu_waffle.html">
            
                
                    <a href="../Programowanie/jak_korzystac_z_serwisu_waffle.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.18.</b>
                        
                        Jak korzystać z serwisu Waffle?
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3" data-path="Analiza/analizadanych_z_programem_r_md.html">
            
                
                    <a href="../Analiza/analizadanych_z_programem_r_md.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                        Analiza danych z programem R
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1" data-path="Analiza/eksploracja.html">
            
                
                    <a href="../Analiza/eksploracja.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.</b>
                        
                        Eksploracja
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.1" data-path="Analiza/jak_rozpoznac_rodzaj_zmiennej.html">
            
                
                    <a href="../Analiza/jak_rozpoznac_rodzaj_zmiennej.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.1.</b>
                        
                        Jak rozpoznać rodzaj zmiennej?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.1.2" data-path="Analiza/jak_badac_rozklad_jednej_zmiennej.html">
            
                
                    <a href="../Analiza/jak_badac_rozklad_jednej_zmiennej.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.2.</b>
                        
                        Jak badać rozkład jednej zmiennej?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.1.3" data-path="Analiza/jak_badac_rozklad_dwoch_zmiennych.html">
            
                
                    <a href="../Analiza/jak_badac_rozklad_dwoch_zmiennych.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.3.</b>
                        
                        Jak badać rozkład dwóch zmiennych?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.1.4" data-path="Analiza/beznadzoru/mds.html">
            
                
                    <a href="../Analiza/beznadzoru/mds.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.4.</b>
                        
                        Jak zmniejszyć wymiar danych? (skalowanie wielowymiarowe)
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.4.1" data-path="Analiza/beznadzoru/mds_metric.html">
            
                
                    <a href="../Analiza/beznadzoru/mds_metric.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.4.1.</b>
                        
                        Jak wykonać skalowanie metryczne?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.1.4.2" data-path="Analiza/beznadzoru/mds_non_metric.html">
            
                
                    <a href="../Analiza/beznadzoru/mds_non_metric.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.4.2.</b>
                        
                        Jak wykonać skalowanie nie-metryczne?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.1.4.3" data-path="Analiza/beznadzoru/mds_classic.html">
            
                
                    <a href="../Analiza/beznadzoru/mds_classic.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.4.3.</b>
                        
                        Jak wykonać skalowanie klasyczne?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.1.4.4" data-path="Analiza/beznadzoru/mds_pca.html">
            
                
                    <a href="../Analiza/beznadzoru/mds_pca.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.4.4.</b>
                        
                        Jak wykorzystać metodę składowych głównych?
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.1.5" data-path="Analiza/beznadzoru/skupiska.html">
            
                
                    <a href="../Analiza/beznadzoru/skupiska.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.5.</b>
                        
                        Jak znaleźć grupy w danych?
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.5.1" data-path="Analiza/beznadzoru/dist.html">
            
                
                    <a href="../Analiza/beznadzoru/dist.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.5.1.</b>
                        
                        Jak wyznaczać odległosć pomiędzy obserwacjami?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.1.5.2" data-path="Analiza/beznadzoru/kmeans.html">
            
                
                    <a href="../Analiza/beznadzoru/kmeans.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.5.2.</b>
                        
                        Jak szukać partycji w oparciu o metodę k-średnich?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.1.5.3" data-path="Analiza/beznadzoru/pam.html">
            
                
                    <a href="../Analiza/beznadzoru/pam.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.5.3.</b>
                        
                        Jak szukać partycji w oparciu o metodę k-medoidów?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.1.5.4" data-path="Analiza/beznadzoru/agnes.html">
            
                
                    <a href="../Analiza/beznadzoru/agnes.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.5.4.</b>
                        
                        Jak wykonać analizę hierarchiczną?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.1.5.5" data-path="Analiza/beznadzoru/mclust.html">
            
                
                    <a href="../Analiza/beznadzoru/mclust.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.5.5.</b>
                        
                        Jak szukać partycji w oparciu o mieszaniny rozkładów?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.1.5.6" data-path="Analiza/beznadzoru/em.html">
            
                
                    <a href="../Analiza/beznadzoru/em.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.5.6.</b>
                        
                        Jak działa algorytm EM?
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.1.6" data-path="Analiza/beznadzoru/rules.html">
            
                
                    <a href="../Analiza/beznadzoru/rules.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.6.</b>
                        
                        Jak szukać reguł asocjacyjnych?
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="Analiza/weryfikacja.html">
            
                
                    <a href="../Analiza/weryfikacja.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.2.</b>
                        
                        Weryfikacja
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.2.1" data-path="Analiza/jak_badac_wlasciwosci_jednej_zmiennej.html">
            
                
                    <a href="../Analiza/jak_badac_wlasciwosci_jednej_zmiennej.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.2.1.</b>
                        
                        Jak badać właściwości jednej zmiennej?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.2.2" data-path="Analiza/jak_badac_zaleznosci_pomiedzy_para_zmiennych.html">
            
                
                    <a href="../Analiza/jak_badac_zaleznosci_pomiedzy_para_zmiennych.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.2.2.</b>
                        
                        Jak badać zależności pomiędzy parą zmiennych?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.2.3" >
            
            <span><b>3.2.3.</b> Jak badać warunkowe zależności?</span>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.3" >
            
            <span><b>3.3.</b> Modelowanie</span>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.3.1" >
            
            <span><b>3.3.1.</b> Modele liniowe</span>
            
            
        </li>
    
        <li class="chapter " data-level="3.3.2" data-path="Analiza/modelowanie/glm.html">
            
                
                    <a href="../Analiza/modelowanie/glm.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.2.</b>
                        
                        Uogólnione modele liniowe
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.4" >
            
            <span><b>3.4.</b> Predykcja</span>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.4.1" >
            
            <span><b>3.4.1.</b> Jak mierzyć błąd predykcji?</span>
            
            
        </li>
    
        <li class="chapter " data-level="3.4.2" >
            
            <span><b>3.4.2.</b> Jak konstruować komitety? predyktorów?</span>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.5" data-path="Wizualizacja/wizualizacja.html">
            
                
                    <a href="../Wizualizacja/wizualizacja.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.5.</b>
                        
                        Wizualizacja
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.5.1" data-path="Wizualizacja/jak_tworzyc_wykresy_ggplot2.html">
            
                
                    <a href="../Wizualizacja/jak_tworzyc_wykresy_ggplot2.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.5.1.</b>
                        
                        Jak tworzyć wykresy z pakietem ggplot2?
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.5.1.1" data-path="Wizualizacja/ggplot2/01_pierwszy_wykres.html">
            
                
                    <a href="../Wizualizacja/ggplot2/01_pierwszy_wykres.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.5.1.1.</b>
                        
                        Jak zrobić pierwszy wykres?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.5.1.2" data-path="Wizualizacja/ggplot2/02_mapowania.html">
            
                
                    <a href="../Wizualizacja/ggplot2/02_mapowania.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.5.1.2.</b>
                        
                        Jak określać mapowania?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.5.1.3" data-path="Wizualizacja/ggplot2/03_geometrie.html">
            
                
                    <a href="../Wizualizacja/ggplot2/03_geometrie.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.5.1.3.</b>
                        
                        Jak określać geometrię?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.5.1.4" data-path="Wizualizacja/ggplot2/04_warstwy.html">
            
                
                    <a href="../Wizualizacja/ggplot2/04_warstwy.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.5.1.4.</b>
                        
                        Jak składać wykres z kilku warstw?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.5.1.5" data-path="Wizualizacja/ggplot2/05_statystyki.html">
            
                
                    <a href="../Wizualizacja/ggplot2/05_statystyki.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.5.1.5.</b>
                        
                        Jak określać statystyki?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.5.1.6" data-path="Wizualizacja/ggplot2/06_panele.html">
            
                
                    <a href="../Wizualizacja/ggplot2/06_panele.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.5.1.6.</b>
                        
                        Jak tworzyć panele?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.5.1.7" data-path="Wizualizacja/ggplot2/07_skale.html">
            
                
                    <a href="../Wizualizacja/ggplot2/07_skale.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.5.1.7.</b>
                        
                        Jak modyfikować skale?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.5.1.8" data-path="Wizualizacja/ggplot2/08_wspolrzedne.html">
            
                
                    <a href="../Wizualizacja/ggplot2/08_wspolrzedne.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.5.1.8.</b>
                        
                        Jak modyfikować układ współrzędnych?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.5.1.9" data-path="Wizualizacja/ggplot2/09_styl.html">
            
                
                    <a href="../Wizualizacja/ggplot2/09_styl.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.5.1.9.</b>
                        
                        Jak modyfikować styl wykresu?
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.5.2" data-path="Wizualizacja/jak_tworzyc_interaktywne_wykresy.html">
            
                
                    <a href="../Wizualizacja/jak_tworzyc_interaktywne_wykresy.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.5.2.</b>
                        
                        Jak tworzyć interaktywne wykresy?
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4" data-path="references.html">
            
                
                    <a href="../references.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                        Bibliografia
                    </a>
            
            
        </li>
    


            
            <li class="divider"></li>
            <li>
                <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                    Published with GitBook
                </a>
            </li>
            
        </ul>
    </nav>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header" role="navigation">
    <!-- Actions Left -->
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../" >Przewodnik po pakiecie R v. 4.0</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1" role="main">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <h1 id="jak-pracowa&#x107;-z-bazami-danych">Jak pracowa&#x107; z bazami danych?</h1>
<p>Zdecydowana wi&#x119;kszo&#x15B;&#x107; funkcji w programie R wymaga by dane na kt&#xF3;rych pracujemy by&#x142;y w pami&#x119;ci RAM.
A je&#x17C;eli chcemy pracowa&#x107; z du&#x17C;ymi zbiorami danych, kt&#xF3;re zajmuj&#x105; du&#x17C;o miejsca, to mamy dwie mo&#x17C;liwo&#x15B;ci:</p>
<ul>
<li>pracowa&#x107; na ,,t&#x142;ustych&#x2019;&#x2019; komputerach z du&#x17C;&#x105; ilo&#x15B;ci&#x105; RAM (jednak na dzie&#x144; dzisiejszy dzisiaj trudno wyj&#x15B;&#x107; poza 1 TB RAM, chyba &#x17C;e ma si&#x119; baaardzo du&#x17C;y bud&#x17C;et),</li>
<li>trzyma&#x107; dane poza R, mo&#x17C;liwie du&#x17C;o przetwarzania wykonywa&#x107; poza R, a do R wczytywa&#x107; tylko takie dane, kt&#xF3;re s&#x105; naprawd&#x119; niezb&#x119;dne. Poza R, oznacza tutaj w bazie danych.</li>
</ul>
<p>Nawet je&#x17C;eli danych nie jest bardzo du&#x17C;o, to bazy dane mog&#x105; by&#x107; u&#x17C;ywane by zapewni&#x107; jednolity spos&#xF3;b dost&#x119;pu do danych z r&#xF3;&#x17C;nych narz&#x119;dzi, by efektywnie zarz&#x105;dza&#x107; danymi, by zapewni&#x107; skalowalno&#x15B;&#x107; operacji na danych.</p>
<p>Poni&#x17C;ej przedstawiamy dwa przyk&#x142;ady komunikacji R z bazami danych.
Pierwszy przyk&#x142;ad b&#x119;dzie dotyczy&#x142; prostej bazy danych <code>SQLite</code> bazuj&#x105;cej na jednym pliku. S&#x105; to najcz&#x119;&#x15B;ciej zabawkowe przyk&#x142;ady pozwalaj&#x105;ce na prze&#x107;wiczenie podstawowych operacji. Drugi przyk&#x142;ad b&#x119;dzie dotyczy&#x142; pracy z popularn&#x105; baz&#x105; PostgreSQL. Spos&#xF3;b pracy z ni&#x105; jest bardzo podobny do wi&#x119;kszo&#x15B;ci popularnie stosowanych baz relacyjnych.</p>
<h2 id="jak-pracowa&#x107;-z-baz&#x105;-danych-sqlite">Jak pracowa&#x107; z baz&#x105; danych SQLite?</h2>
<p>SQLite to lekka baza danych oparta o jeden plik. Ma ona dosy&#x107; ograniczone funkcjonalno&#x15B;ci, ale tak prosto j&#x105; zainstalowa&#x107;, &#x17C;e wr&#x119;cz trudno powiedzie&#x107; w kt&#xF3;rym momencie si&#x119; to robi. &#x141;atwo te&#x17C; t&#x119; baz&#x119; skopiowa&#x107; czy komu&#x15B; wys&#x142;a&#x107;. Dlatego pomimo ograniczonych mo&#x17C;liwo&#x15B;ci ma ona sporo zastosowa&#x144; w kt&#xF3;rych liczby si&#x119; prostota nad skalowalno&#x15B;ci&#x105;.</p>
<p>Aby korzysta&#x107; z tej bazy danych potrzebny jest pakiet <code>RSQLite</code>.
Korzystanie z tej bazy sk&#x142;ada si&#x119; z nast&#x119;puj&#x105;cych krok&#xF3;w</p>
<ul>
<li>Nale&#x17C;y wczyta&#x107; sterownik do &#x142;&#x105;czenia si&#x119; z baz&#x105; danych, najcz&#x119;&#x15B;ciej funkcj&#x105; <code>dbDriver()</code>.</li>
<li>Nale&#x17C;y nawi&#x105;za&#x107; po&#x142;&#x105;czenie z baz&#x105; danych, najcz&#x119;&#x15B;ciej funkcj&#x105; <code>dbConnect()</code>. W przypadku bazy SQLite wystarczy wskaza&#x107; &#x15B;cie&#x17C;k&#x119; do pliku z baz&#x105; danych.</li>
<li>Operacje na bazie danych wykonuje si&#x119; poprzez nawi&#x105;zane po&#x142;&#x105;czenie.</li>
<li>Po zako&#x144;czeniu pracy z baz&#x105; danych nale&#x17C;y zwolni&#x107; po&#x142;&#x105;czenie (funkcja <code>dbDisconnect()</code>) i sterownik.</li>
</ul>
<p>Przyk&#x142;adowa sesja z baz&#x105; danych jest nast&#x119;puj&#x105;ca.</p>
<p>&#x141;adujemy sterownik do bazy danych i inicjujemy po&#x142;&#x105;czenie z serwerem bazodanowym. Je&#x17C;eli wskazany plik nie istnieje, to zostanie stworzony z pust&#x105; baz&#x105; danych.</p>
<pre><code class="lang-r"><span class="hljs-keyword">library</span>(<span class="hljs-string">&quot;RSQLite&quot;</span>)
sterownik &lt;- dbDriver(<span class="hljs-string">&quot;SQLite&quot;</span>)
polaczenie &lt;- dbConnect(sterownik, <span class="hljs-string">&quot;zabawka.db&quot;</span>)
</code></pre>
<p>Wy&#x15B;wietlamy tabele widoczne w bazie danych pod wskazanym po&#x142;&#x105;czeniem a nast&#x119;pnie wy&#x15B;wietlamy kolumny w okre&#x15B;lonej tabeli.</p>
<pre><code class="lang-r">dbListTables(polaczenie)
</code></pre>
<pre><code>## [1] &quot;auta2012&quot;     &quot;sqlite_stat1&quot; &quot;wynik&quot;
</code></pre><pre><code class="lang-r">dbListFields(polaczenie, <span class="hljs-string">&quot;auta2012&quot;</span>)
</code></pre>
<pre><code>##  [1] &quot;Cena&quot;                         &quot;Waluta&quot;                      
##  [3] &quot;Cena.w.PLN&quot;                   &quot;Brutto.netto&quot;                
##  [5] &quot;KM&quot;                           &quot;kW&quot;                          
##  [7] &quot;Marka&quot;                        &quot;Model&quot;                       
##  [9] &quot;Wersja&quot;                       &quot;Liczba.drzwi&quot;                
## [11] &quot;Pojemnosc.skokowa&quot;            &quot;Przebieg.w.km&quot;               
## [13] &quot;Rodzaj.paliwa&quot;                &quot;Rok.produkcji&quot;               
## [15] &quot;Kolor&quot;                        &quot;Kraj.aktualnej.rejestracji&quot;  
## [17] &quot;Kraj.pochodzenia&quot;             &quot;Pojazd.uszkodzony&quot;           
## [19] &quot;Skrzynia.biegow&quot;              &quot;Status.pojazdu.sprowadzonego&quot;
## [21] &quot;Wyposazenie.dodatkowe&quot;
</code></pre><p>U&#x17C;ywaj&#x105;c funkcji <code>dbGetQuery()</code> mo&#x17C;emy wykona&#x107; na bazie zapytanie SQL.</p>
<pre><code class="lang-r">pierwsze5 &lt;- dbGetQuery(polaczenie, 
           <span class="hljs-string">&quot;select Cena, Waluta, Marka, Model from auta2012 limit 5&quot;</span>)
pierwsze5
</code></pre>
<pre><code>##    Cena Waluta         Marka     Model
## 1 49900    PLN           Kia    Carens
## 2 88000    PLN    Mitsubishi Outlander
## 3 86000    PLN     Chevrolet   Captiva
## 4 25900    PLN         Volvo       S80
## 5 55900    PLN Mercedes-Benz  Sprinter
</code></pre><pre><code class="lang-r">agregat &lt;- dbGetQuery(polaczenie, 
           <span class="hljs-string">&quot;select count(*) as liczba, avg(`Cena.w.PLN`) as cena, Marka from auta2012 group by Marka limit 10&quot;</span>)
agregat
</code></pre>
<pre><code>##    liczba      cena       Marka
## 1      24  32735.33            
## 2      59  68140.39       Acura
## 3      50  27037.04       Aixam
## 4    2142  21403.58   AlfaRomeo
## 5       4  15424.42         Aro
## 6      35 505359.61 AstonMartin
## 7   12851  64608.61        Audi
## 8      17  46396.60      Austin
## 9   10126  72385.68         BMW
## 10     39 478483.82     Bentley
</code></pre><p>U&#x17C;ywaj&#x105;c funkcji <code>dbDisconnect()</code> mo&#x17C;emy si&#x119; z baz&#x105; danych roz&#x142;&#x105;czy&#x107;. Wa&#x17C;ne jest by po sobie sprz&#x105;ta&#x107; na wypadek gdyby dane z pami&#x119;ci nie zosta&#x142;y zapisane do pliku.</p>
<pre><code class="lang-r">dbDisconnect(polaczenie)
</code></pre>
<pre><code>## [1] TRUE
</code></pre><p>Funkcja <code>dbGetQuery()</code> tworzy zapytanie, wykonuje je i pobiera jego wyniki. T&#x119; operacj&#x119; mo&#x17C;na rozbi&#x107; na cz&#x119;&#x15B;ci. Funkcja <code>dbSendQuery()</code> jedynie tworzy i wysy&#x142;a zapytanie SQL do bazy, a funkcja <code>fetch()</code> pobiera kolejne porcje danych.</p>
<p>Funkcja <code>dbWriteTable()</code> zapisuje wskazany obiekt <code>data.table</code> jako tabel&#x119; w bazie danych.</p>
<h2 id="jak-pracowa&#x107;-z-relacyjnymi-bazami-danych">Jak pracowa&#x107; z relacyjnymi bazami danych?</h2>
<p>SQLite to baza zabawka. Do przechowywania wi&#x119;kszych danych w produkcyjnych rozwi&#x105;zaniach wykorzystywa&#x107; mo&#x17C;na otwarte rozwi&#x105;zania typu PostgreSQL czy MySQL lub komercyjnie rozwijane silniki bazodanowe takie jak Oracle, RedShift, Teradata, Netezza i inne.</p>
<p>O ile te bazy r&#xF3;&#x17C;ni&#x105; si&#x119; funkcjonalno&#x15B;ci&#x105;, skalowalno&#x15B;ci&#x105; i pr&#x119;dko&#x15B;ci&#x105;, to z perspektywy u&#x17C;ytkownika R korzystanie z nich jest dosy&#x107; podobne. Poni&#x17C;ej poka&#x17C;emy jak korzysta&#x107; z PostgreSQL.</p>
<p>Jako przyk&#x142;ad, wykorzystamy baz&#x119; PostgreSQL dost&#x119;pn&#x105; na serwerze <code>services.mini.pw.edu.pl</code>. PostgreSQL pozwala na zarz&#x105;dzanie wieloma u&#x17C;ytkownikami i wieloma bazami danych, tutaj wykorzystamy baz&#x119; <code>sejmrp</code> przechowuj&#x105;c&#x105; dane z Sejmu RP 7 i 8 kadencji (g&#x142;osowania i stenogramy). Dane te s&#x105; uzupe&#x142;niane za pomoc&#x105; pakietu  <a href="https://github.com/mi2-warsaw/sejmRP" target="_blank">sejmRP</a>.</p>
<p>Aby korzysta&#x107; z bazy danych potrzebny jest u&#x17C;ytkownik i has&#x142;o. Poni&#x17C;ej przedstawimy przyk&#x142;ad dla u&#x17C;ytkownika <code>reader</code> i has&#x142;a <code>qux94874</code>. Ten u&#x17C;ytkownik ma wy&#x142;&#x105;cznie uprawnienia do czytania.</p>
<p>Aby po&#x142;&#x105;czy&#x107; si&#x119; z baz&#x105; PostgreSQL potrzebujemy sterownika, kt&#xF3;ry jest dost&#x119;pny w pakiecie <code>RPostgreSQL</code>. Wczytajmy ten pakiet i nawi&#x105;&#x17C;my po&#x142;&#x105;czenie z baz&#x105; danych.</p>
<pre><code class="lang-r"><span class="hljs-keyword">library</span>(RPostgreSQL)
dbname = <span class="hljs-string">&quot;sejmrp&quot;</span>
user = <span class="hljs-string">&quot;reader&quot;</span>
password = <span class="hljs-string">&quot;qux94874&quot;</span>
host = <span class="hljs-string">&quot;services.mini.pw.edu.pl&quot;</span>

sterownik &lt;- dbDriver(<span class="hljs-string">&quot;PostgreSQL&quot;</span>)
polaczenie &lt;- dbConnect(sterownik, dbname = dbname, user = user, password = password, host = host)
</code></pre>
<p>Mo&#x17C;emy teraz zadawa&#x107; dowolne zapytania SQL, pobiera&#x107; i wysy&#x142;a&#x107; ca&#x142;e tabele z danymi.</p>
<pre><code class="lang-r">gadki &lt;- dbGetQuery(polaczenie, <span class="hljs-string">&quot;SELECT * FROM statements ORDER BY nr_term_of_office, id_statement limit 1&quot;</span>)
gadki
</code></pre>
<pre><code>##   id_statement nr_term_of_office                    surname_name
## 1    100.1.001                 7 Sekretarz Pose&#x142; Marek Pozna&#x144;ski
##   date_statement titles_order_points
## 1     2015-09-16                    
##                                                                                          statement
## 1 Informuj&#x119;, &#x17C;e w dniu dzisiejszym o godz. 16 odb&#x119;dzie si&#x119; posiedzenie Komisji  Zdrowia. Dzi&#x119;kuj&#x119;.
</code></pre><pre><code class="lang-r">glosy &lt;- dbGetQuery(polaczenie, <span class="hljs-string">&quot;SELECT club, vote, count(*) FROM votes GROUP BY club, vote limit 12&quot;</span>)
glosy
</code></pre>
<pre><code>##       club          vote  count
## 1       ZP       Przeciw   8448
## 2       PO       Przeciw 827472
## 3     KPSP       Przeciw   5659
## 4    niez.     Nieobecny  12418
## 5       PO Wstrzyma&#x142; si&#x119;   3291
## 6       ZP Wstrzyma&#x142; si&#x119;   3472
## 7  Kukiz15            Za   4495
## 8    niez.            Za  27274
## 9     KPSP Wstrzyma&#x142; si&#x119;   2699
## 10 Kukiz15     Nieobecny    893
## 11     PSL       Przeciw 120436
## 12     PiS Wstrzyma&#x142; si&#x119; 111698
</code></pre><p>Na koniec pracy nale&#x17C;y roz&#x142;&#x105;czy&#x107; si&#x119; z baz&#x105; danych i zwolni&#x107; po&#x142;&#x105;czenie. </p>
<pre><code class="lang-r">dbDisconnect(polaczenie)
</code></pre>
<pre><code>## [1] TRUE
</code></pre><h2 id="jak-u&#x17C;ywa&#x107;-pakietu-dplyr-w-pracy-z-bazami-danych">Jak u&#x17C;ywa&#x107; pakietu dplyr w pracy z bazami danych?</h2>
<p>Standard&#xF3;w i implementacji SQLa jest tak wiele, &#x17C;e zastanawiaj&#x105;ce jest dlaczego nazywane s&#x105; standardami. Praktycznie ka&#x17C;da baza danych r&#xF3;&#x17C;ni si&#x119; list&#x105; zaimplementowanych funkcjonalno&#x15B;ci czy agregat&#xF3;w. Je&#x17C;eli pracujemy z jedn&#x105; baz&#x105; danych to ta r&#xF3;&#x17C;norodno&#x15B;&#x107; nie b&#x119;dzie nam doskwiera&#x107;. Ale je&#x17C;eli przyjdzie nam jednocze&#x15B;nie korzysta&#x107; z baz MSSQL, MySQL, RedShift i Postgres? Lub gdy oka&#x17C;e si&#x119;, &#x17C;e dane zosta&#x142;y zmigrowane na now&#x105; baz&#x119; danych?</p>
<p>Wielu problem&#xF3;w mo&#x17C;na sobie oszcz&#x119;dzi&#x107; u&#x17C;ywaj&#x105;c po&#x15B;rednika do komunikacji z baz&#x105; danych. Takim po&#x15B;rednikiem mo&#x17C;e by&#x107; pakiet <code>dplyr</code> om&#xF3;wiony w poprzednim rozdziale.
Pozwala on do pewnego stopnia na prac&#x119; z danymi bez zastanawiania si&#x119; gdzie te dane aktualnie s&#x105; i jak nazywa si&#x119; w tym systemie bazodanowym potrzebna nam funkcja.</p>
<p>W pakiecie <code>dplyr</code> po&#x142;&#x105;czenia ze &#x17A;r&#xF3;d&#x142;em danych (tabel&#x105; z liczbami lub baz&#x105; danych) tworzy si&#x119; funkcjami <code>src_*</code>. 
Poni&#x17C;ej skorzystamy z funkcji <code>src_sqlite()</code> i <code>src_postgres()</code>.</p>
<p>Zainicjujmy po&#x142;&#x105;czenie z baz&#x105; SQLite i pobierzmy kilka pierwszych wierszy z tabeli <code>auta2012</code>.</p>
<pre><code class="lang-r"> <span class="hljs-keyword">library</span>(dplyr)
polaczenie &lt;- src_sqlite(path = <span class="hljs-string">&apos;zabawka.db&apos;</span>)
auta1 &lt;- tbl(polaczenie, <span class="hljs-string">&quot;auta2012&quot;</span>)
</code></pre>
<p>Maj&#x105;c taki obiekt, reszta operacji wygl&#x105;da tak jak w zwyk&#x142;ym <code>dplyr</code>.</p>
<pre><code class="lang-r">auta1 %&gt;% 
  head(<span class="hljs-number">2</span>)
</code></pre>
<pre><code>##    Cena Waluta Cena.w.PLN Brutto.netto  KM  kW      Marka     Model Wersja
## 1 49900    PLN      49900       brutto 140 103        Kia    Carens       
## 2 88000    PLN      88000       brutto 156 115 Mitsubishi Outlander       
##   Liczba.drzwi Pojemnosc.skokowa Przebieg.w.km          Rodzaj.paliwa
## 1          4/5              1991         41000 olej napedowy (diesel)
## 2          4/5              2179         46500 olej napedowy (diesel)
##   Rok.produkcji Kolor Kraj.aktualnej.rejestracji Kraj.pochodzenia
## 1          2008                           Polska                 
## 2          2008                           Polska                 
##   Pojazd.uszkodzony Skrzynia.biegow Status.pojazdu.sprowadzonego
## 1                          manualna                             
## 2                          manualna                             
##                                                                                                                                                                                Wyposazenie.dodatkowe
## 1                         ABS, el. lusterka, klimatyzacja, alufelgi, centralny zamek, autoalarm, poduszka powietrzna, radio / CD, wspomaganie kierownicy, immobiliser, komputer, przyciemniane szyby
## 2 ABS, 4x4, el. lusterka, klimatyzacja, skorzana tapicerka, alufelgi, centralny zamek, poduszka powietrzna, radio / CD, wspomaganie kierownicy, immobiliser, komputer, tempomat, przyciemniane szyby
</code></pre><p>A teraz poka&#x17C;my przyk&#x142;ad dla bazy PostgreSQL. Zainicjujmy po&#x142;&#x105;czenie do tabeli <code>votes</code>.</p>
<pre><code class="lang-r">polaczenie &lt;- src_postgres(dbname = dbname, 
                        host = host, user = user, password = password)
src_tbls(polaczenie)
</code></pre>
<pre><code>## [1] &quot;votes&quot;            &quot;counter&quot;          &quot;statements&quot;      
## [4] &quot;deputies&quot;         &quot;votings&quot;          &quot;votes_copy_27_08&quot;
## [7] &quot;db&quot;               &quot;test_statements&quot;
</code></pre><pre><code class="lang-r">glosy &lt;- tbl(polaczenie, <span class="hljs-string">&quot;votes&quot;</span>)
</code></pre>
<p>Zdefiniowawszy po&#x142;&#x105;czenie mo&#x17C;emy na tej tabeli robi&#x107; dosy&#x107; zaawansowane rzeczy u&#x17C;ywaj&#x105;c ju&#x17C; znanych funkcji z pakietu <code>dplyr</code>.</p>
<pre><code class="lang-r">glosy %&gt;% 
  group_by(club, vote) %&gt;% 
  summarise(liczba = n()) -&gt;
  liczba_glosow

class(liczba_glosow)
</code></pre>
<pre><code>## [1] &quot;tbl_postgres&quot; &quot;tbl_sql&quot;      &quot;tbl&quot;
</code></pre><p>Wynikiem tych operacji jest obiekt klasy <code>tbl_sql</code>. Nie przechowuje on jednak danych, ale instrukcje pozwalaj&#x105;ce na dost&#x119;p do danych (zapytanie SQL). Mo&#x17C;na to zapytanie i plan zapytania wy&#x142;uska&#x107;</p>
<pre><code class="lang-r">liczba_glosow$query
</code></pre>
<pre><code>## &lt;Query&gt; SELECT &quot;club&quot;, &quot;vote&quot;, &quot;liczba&quot;
## FROM (SELECT &quot;club&quot;, &quot;vote&quot;, count(*) AS &quot;liczba&quot;
## FROM &quot;votes&quot;
## GROUP BY &quot;club&quot;, &quot;vote&quot;) AS &quot;zzz3&quot;
## &lt;PostgreSQLConnection:(42999,5)&gt;
</code></pre><pre><code class="lang-r">explain(liczba_glosow)
</code></pre>
<pre><code>## &lt;SQL&gt;
## SELECT &quot;club&quot;, &quot;vote&quot;, &quot;liczba&quot;
## FROM (SELECT &quot;club&quot;, &quot;vote&quot;, count(*) AS &quot;liczba&quot;
## FROM &quot;votes&quot;
## GROUP BY &quot;club&quot;, &quot;vote&quot;) AS &quot;zzz3&quot;
</code></pre><pre><code>##
</code></pre><pre><code>## &lt;PLAN&gt;
## HashAggregate  (cost=74577.20..74577.72 rows=52 width=9)
##   -&gt;  Seq Scan on votes  (cost=0.00..51780.54 rows=3039554 width=9)
</code></pre><p>Leniwo&#x15B;&#x107; ale nie lenistwo. Operacje na tych obiektach nie s&#x105; materializowane o ile nie musz&#x105; by&#x107; materializowane (u&#x17C;ytkownik wprost tego za&#x17C;&#x105;da). Gdy ju&#x17C; jest jasne co u&#x17C;ytkownik chce zrobi&#x107; i gdy jawnie za&#x17C;&#x105;da wyniku, wszystkie operacje s&#x105; wykonywane w mo&#x17C;liwie ma&#x142;ej liczbie (=jeden) krok&#xF3;w.</p>
<p>Materializowa&#x107; wyniki mo&#x17C;na na dwa sposoby</p>
<ul>
<li><code>collect()</code> - wyznacza wynik oraz pobiera do R,</li>
<li><code>compute()</code> - wyznacza wynik i zapisuje w tymczasowej tabeli w bazie danych.</li>
</ul>
<p>Poni&#x17C;sza instrukcja pobierze wyliczone agregaty ze zbioru danych.</p>
<pre><code class="lang-r">collect(liczba_glosow)
</code></pre>
<pre><code>## Source: local data frame [60 x 3]
## Groups: club [15]
## 
##       club          vote liczba
##      (chr)         (chr)  (dbl)
## 1       ZP       Przeciw   8448
## 2       PO       Przeciw 827472
## 3     KPSP       Przeciw   5659
## 4    niez.     Nieobecny  12418
## 5       PO Wstrzyma&#x142; si&#x119;   3291
## 6       ZP Wstrzyma&#x142; si&#x119;   3472
## 7  Kukiz15            Za   4495
## 8    niez.            Za  27274
## 9     KPSP Wstrzyma&#x142; si&#x119;   2699
## 10 Kukiz15     Nieobecny    893
## ..     ...           ...    ...
</code></pre><p>Wi&#x119;cej informacji o funkcjach z pakietu <code>dplyr</code>, kt&#xF3;re mo&#x17C;na stosowac do baz danych znale&#x17A;&#x107; mo&#x17C;na na stronie <a href="http://cran.rstudio.com/web/packages/dplyr/vignettes/databases.html" target="_blank">http://cran.rstudio.com/web/packages/dplyr/vignettes/databases.html</a>.</p>
<h2 id="do-&#x107;wicze&#x144;">Do &#x107;wicze&#x144;</h2>
<p>Czego potrzebuje u&#x17C;ytkownik <code>mi2user</code>?</p>
<pre><code class="lang-r">digest::digest(<span class="hljs-string">&quot;All you need is R&quot;</span>)
</code></pre>
<pre><code>## [1] &quot;bdb54d9c58b91c382f58423bec2bf5f0&quot;
</code></pre><p>I funkcji <code>copy_to</code>, kt&#xF3;ra zapisuje lokaln&#x105; tabel&#x119; do bazy danych.</p>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="../Programowanie/pazury/rownolegle.html" class="navigation navigation-prev " aria-label="Previous page: Jak zrównoleglić obliczenia w R?"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../Programowanie/generatory_llosowych.html" class="navigation navigation-next " aria-label="Next page: Jak generować liczby losowe?"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="../gitbook/app.js"></script>

    
    <script src="../gitbook/plugins/gitbook-plugin-ga/plugin.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-expandable-chapters/expandable-chapters.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-github/plugin.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-search/lunr.min.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-search/search.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-sharing/buttons.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-fontsettings/buttons.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"ga":{"token":"UA-5650686-13","configuration":"auto"},"github":{"url":"https://github.com/pbiecek/Przewodnik"},"katex":{},"expandable-chapters":{},"highlight":{},"search":{"maxIndexSize":1000000},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
