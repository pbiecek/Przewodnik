<!DOCTYPE HTML>
<html lang="en" >
    
    <head>
        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>Jak badać czas działania kodu? | Przewodnik po pakiecie R v. 4.0</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.6.7">
        
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="../../gitbook/style.css">
    
        
        <link rel="stylesheet" href="../../gitbook/plugins/gitbook-plugin-katex/katex.min.css">
        
    
        
        <link rel="stylesheet" href="../../gitbook/plugins/gitbook-plugin-expandable-chapters/expandable-chapters.css">
        
    
        
        <link rel="stylesheet" href="../../gitbook/plugins/gitbook-plugin-highlight/website.css">
        
    
        
        <link rel="stylesheet" href="../../gitbook/plugins/gitbook-plugin-search/search.css">
        
    
        
        <link rel="stylesheet" href="../../gitbook/plugins/gitbook-plugin-fontsettings/website.css">
        
    
    
        <link rel="stylesheet" href="../../styles/website.css">
    

        
    
    
    <link rel="next" href="../../Programowanie/pazury/rownolegle.html" />
    
    
    <link rel="prev" href="../../Programowanie/pazury/debugowanie.html" />
    

        
    </head>
    <body>
        
        
    <div class="book"
        data-level="3.9"
        data-chapter-title="Jak badać czas działania kodu?"
        data-filepath="Programowanie/pazury/profilowanie.md"
        data-basepath="../.."
        data-revision="Thu Sep 29 2016 00:55:21 GMT+0200 (CEST)"
        data-innerlanguage="">
    

<div class="book-summary">
    <nav role="navigation">
        <ul class="summary">
            
            
            
            

            

            
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../../index.html">
                
                        <i class="fa fa-check"></i>
                        
                        Introduction
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="contribute.html">
            
                
                    <a href="../../contribute.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                        Podrasuj Przewodnik!
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1" data-path="co_nowego.html">
            
                
                    <a href="../../co_nowego.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.</b>
                        
                        Co nowego?
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2" data-path="wprowadzenie.html">
            
                
                    <a href="../../wprowadzenie.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                        Wprowadzenie do R
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1" data-path="Wprowadzenie/dlaczego_R.html">
            
                
                    <a href="../../Wprowadzenie/dlaczego_R.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.</b>
                        
                        Dlaczego R?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="Wprowadzenie/jak_wyglada_praca_z_R.html">
            
                
                    <a href="../../Wprowadzenie/jak_wyglada_praca_z_R.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.</b>
                        
                        Jak wygląda praca z programem R?
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.2.1" data-path="Wprowadzenie/przykladowa_sesja.html">
            
                
                    <a href="../../Wprowadzenie/przykladowa_sesja.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.1.</b>
                        
                        Przykładowa sesja
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="Wprowadzenie/jak_przygotowac_miejsce.html">
            
                
                    <a href="../../Wprowadzenie/jak_przygotowac_miejsce.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.3.</b>
                        
                        Jak przygotować miejsce pracy?
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.3.1" data-path="Wprowadzenie/jak_zainstalowac_R.html">
            
                
                    <a href="../../Wprowadzenie/jak_zainstalowac_R.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.3.1.</b>
                        
                        Jak zainstalować R?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.3.2" data-path="Wprowadzenie/jak_zainstalowac_RStudio.html">
            
                
                    <a href="../../Wprowadzenie/jak_zainstalowac_RStudio.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.3.2.</b>
                        
                        Jak zainstalować RStudio?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.3.3" data-path="Wprowadzenie/jak_zainstalowac_pakiety.html">
            
                
                    <a href="../../Wprowadzenie/jak_zainstalowac_pakiety.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.3.3.</b>
                        
                        Jak zainstalować dodatkowe pakiety?
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="Wprowadzenie/dodatkowa_pomoc.html">
            
                
                    <a href="../../Wprowadzenie/dodatkowa_pomoc.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.4.</b>
                        
                        Gdzie szukać dodatkowej pomocy?
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3" data-path="puste2.html">
            
                
                    <a href="../../puste2.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                        Programowanie w języku R
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1" data-path="Programowanie/zapisywac.html">
            
                
                    <a href="../../Programowanie/zapisywac.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.</b>
                        
                        Jak wczytywać i zapisywać dane?
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.1" data-path="Programowanie/jak_wczytac_tabele_danych_z_pliku_csv_lub_txt.html">
            
                
                    <a href="../../Programowanie/jak_wczytac_tabele_danych_z_pliku_csv_lub_txt.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.1.</b>
                        
                        Jak wczytać tabele danych z pliku csv lub txt?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.1.2" data-path="Programowanie/jak_wczytac_dane_z_excela.html">
            
                
                    <a href="../../Programowanie/jak_wczytac_dane_z_excela.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.2.</b>
                        
                        Jak wczytać tabele danych z Excela?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.1.3" data-path="Programowanie/jak_wczytywac_tabele_z_formatu_html.html">
            
                
                    <a href="../../Programowanie/jak_wczytywac_tabele_z_formatu_html.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.3.</b>
                        
                        Jak wczytać tabele danych ze strony www?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.1.4" data-path="Programowanie/jak_zeskrobywac_dane_ze_stron_www_uzywajac_pakietu.html">
            
                
                    <a href="../../Programowanie/jak_zeskrobywac_dane_ze_stron_www_uzywajac_pakietu.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.4.</b>
                        
                        Jak zeskrobywać dane ze stron www?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.1.5" data-path="Programowanie/jak_wczytywac_korpusy_tekstu.html">
            
                
                    <a href="../../Programowanie/jak_wczytywac_korpusy_tekstu.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.5.</b>
                        
                        Jak wczytywać korpusy tekstu?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.1.6" data-path="Programowanie/jak_pobierac_dane_z_twittera.html">
            
                
                    <a href="../../Programowanie/jak_pobierac_dane_z_twittera.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.6.</b>
                        
                        Jak pobierać dane z Twittera?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.1.7" data-path="Programowanie/jak_pobrac_dane_z.html">
            
                
                    <a href="../../Programowanie/jak_pobrac_dane_z.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.7.</b>
                        
                        Jak pobrać dane z...?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.1.8" data-path="Programowanie/zadania.html">
            
                
                    <a href="../../Programowanie/zadania.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.8.</b>
                        
                        Zadania
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="Programowanie/czyscic_przetwarzac.html">
            
                
                    <a href="../../Programowanie/czyscic_przetwarzac.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.2.</b>
                        
                        Jak czyścić i przetwarzać dane?
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.2.1" data-path="Programowanie/filter.html">
            
                
                    <a href="../../Programowanie/filter.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.2.1.</b>
                        
                        Jak filtrować wiersze?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.2.2" data-path="Programowanie/mutate.html">
            
                
                    <a href="../../Programowanie/mutate.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.2.2.</b>
                        
                        Jak tworzyć nowe kolumny?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.2.3" data-path="Programowanie/select.html">
            
                
                    <a href="../../Programowanie/select.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.2.3.</b>
                        
                        Jak wybierać kolumny?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.2.4" data-path="Programowanie/arrange.html">
            
                
                    <a href="../../Programowanie/arrange.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.2.4.</b>
                        
                        Jak sortować wiersze?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.2.5" data-path="Programowanie/potoki.html">
            
                
                    <a href="../../Programowanie/potoki.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.2.5.</b>
                        
                        Jak pracować z potokami?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.2.6" data-path="Programowanie/groupby.html">
            
                
                    <a href="../../Programowanie/groupby.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.2.6.</b>
                        
                        Jak wyznaczać agregaty w grupach?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.2.7" data-path="Programowanie/tidyr.html">
            
                
                    <a href="../../Programowanie/tidyr.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.2.7.</b>
                        
                        Jak czyścić dane?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.2.8" data-path="Programowanie/zadaniaDplyr.html">
            
                
                    <a href="../../Programowanie/zadaniaDplyr.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.2.8.</b>
                        
                        Zadania
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="Programowanie/pakiety/po_co.html">
            
                
                    <a href="../../Programowanie/pakiety/po_co.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.</b>
                        
                        Jak budować pakiety?
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.3.1" data-path="Programowanie/pakiety/nowy_pakiet.html">
            
                
                    <a href="../../Programowanie/pakiety/nowy_pakiet.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.1.</b>
                        
                        Jak stworzyć nowy pakiet?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.3.2" data-path="Programowanie/pakiety/nowa_funkcja.html">
            
                
                    <a href="../../Programowanie/pakiety/nowa_funkcja.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.2.</b>
                        
                        Jak dodawać funkcje do pakietu?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.3.3" data-path="Programowanie/pakiety/nowe_dane.html">
            
                
                    <a href="../../Programowanie/pakiety/nowe_dane.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.3.</b>
                        
                        Jak dodawać zbiory danych do pakietu?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.3.4" data-path="Programowanie/pakiety/nowe_testy.html">
            
                
                    <a href="../../Programowanie/pakiety/nowe_testy.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.4.</b>
                        
                        Jak dodawać testy do pakietu?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.3.5" data-path="Programowanie/pakiety/nowe_budowanie.html">
            
                
                    <a href="../../Programowanie/pakiety/nowe_budowanie.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.5.</b>
                        
                        Jak budować stworzony pakiet?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.3.6" data-path="Programowanie/pakiety/co_dalej.html">
            
                
                    <a href="../../Programowanie/pakiety/co_dalej.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.6.</b>
                        
                        Co dalej?
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.4" data-path="Programowanie/jak_tworzyc_aplikajce.html">
            
                
                    <a href="../../Programowanie/jak_tworzyc_aplikajce.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.4.</b>
                        
                        Jak budować aplikacje z pakietem Shiny?
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.4.1" data-path="Programowanie/jak_tworzyc_aplikajce0.html">
            
                
                    <a href="../../Programowanie/jak_tworzyc_aplikajce0.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.4.1.</b>
                        
                        Jak zbudować pierwszą aplikację?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.4.2" data-path="Programowanie/jak_tworzyc_aplikajce1.html">
            
                
                    <a href="../../Programowanie/jak_tworzyc_aplikajce1.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.4.2.</b>
                        
                        Jak umieszczać wyniki analiz w aplikacji?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.4.3" data-path="Programowanie/jak_tworzyc_aplikajce2.html">
            
                
                    <a href="../../Programowanie/jak_tworzyc_aplikajce2.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.4.3.</b>
                        
                        Jak umieszać elementy kontrolujące w aplikacji?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.4.4" data-path="Programowanie/jak_tworzyc_aplikajce3.html">
            
                
                    <a href="../../Programowanie/jak_tworzyc_aplikajce3.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.4.4.</b>
                        
                        Jak tworzyć reaktywne elementy w aplikacji?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.4.5" data-path="Programowanie/jak_tworzyc_aplikajce4.html">
            
                
                    <a href="../../Programowanie/jak_tworzyc_aplikajce4.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.4.5.</b>
                        
                        I co dalej?
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.5" data-path="Programowanie/pazury/REST.html">
            
                
                    <a href="../../Programowanie/pazury/REST.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.5.</b>
                        
                        Jak tworzyć usługi SaaS oparte o RESTful API?
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.5.1" data-path="Programowanie/pazury/REST01.html">
            
                
                    <a href="../../Programowanie/pazury/REST01.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.5.1.</b>
                        
                        Jak uruchomić RESTowy serwer?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.5.2" data-path="Programowanie/pazury/REST02.html">
            
                
                    <a href="../../Programowanie/pazury/REST02.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.5.2.</b>
                        
                        Jak pracować z opencpu?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.5.3" data-path="Programowanie/pazury/REST03.html">
            
                
                    <a href="../../Programowanie/pazury/REST03.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.5.3.</b>
                        
                        Jak zdalnie wywołać funkcję?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.5.4" data-path="Programowanie/pazury/REST04.html">
            
                
                    <a href="../../Programowanie/pazury/REST04.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.5.4.</b>
                        
                        Jak zdalnie zbudować wykres?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.5.5" data-path="Programowanie/pazury/REST05.html">
            
                
                    <a href="../../Programowanie/pazury/REST05.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.5.5.</b>
                        
                        Co jeszcze warto wiedzieć o pakiecie opencpu?
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.6" data-path="Programowanie/jak_tworzyc_raporty.html">
            
                
                    <a href="../../Programowanie/jak_tworzyc_raporty.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.6.</b>
                        
                        Jak tworzyć raporty z pakietem knitr?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.7" data-path="Programowanie/pazury/archivist.html">
            
                
                    <a href="../../Programowanie/pazury/archivist.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.7.</b>
                        
                        Jak serializować obiekty z użyciem archivist?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.8" data-path="Programowanie/pazury/debugowanie.html">
            
                
                    <a href="../../Programowanie/pazury/debugowanie.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.8.</b>
                        
                        Jak debugować kod R?
                    </a>
            
            
        </li>
    
        <li class="chapter active" data-level="3.9" data-path="Programowanie/pazury/profilowanie.html">
            
                
                    <a href="../../Programowanie/pazury/profilowanie.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.9.</b>
                        
                        Jak badać czas działania kodu?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.10" data-path="Programowanie/pazury/rownolegle.html">
            
                
                    <a href="../../Programowanie/pazury/rownolegle.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.10.</b>
                        
                        Jak zrównoleglić obliczenia w R?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.11" data-path="Programowanie/jak_pracowac_z_bazami_danych.html">
            
                
                    <a href="../../Programowanie/jak_pracowac_z_bazami_danych.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.11.</b>
                        
                        Jak pracować z bazami danych?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.12" data-path="Programowanie/generatory_llosowych.html">
            
                
                    <a href="../../Programowanie/generatory_llosowych.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.12.</b>
                        
                        Jak generować liczby losowe?
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.12.1" data-path="Programowanie/generatory_1.html">
            
                
                    <a href="../../Programowanie/generatory_1.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.12.1.</b>
                        
                        Jak ustawiać ziarno generatora?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.12.2" data-path="Programowanie/generatory_2.html">
            
                
                    <a href="../../Programowanie/generatory_2.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.12.2.</b>
                        
                        Jak losować z prostych rozkładów?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.12.3" data-path="Programowanie/generatory_3.html">
            
                
                    <a href="../../Programowanie/generatory_3.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.12.3.</b>
                        
                        Jak losować ze złożonych rozkładów?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.12.4" data-path="Programowanie/generatory_4.html">
            
                
                    <a href="../../Programowanie/generatory_4.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.12.4.</b>
                        
                        Jak losować z użyciem kopuli?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.12.5" data-path="Programowanie/generatory_5.html">
            
                
                    <a href="../../Programowanie/generatory_5.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.12.5.</b>
                        
                        Jak estymować parametry rozkładu?
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.13" data-path="Programowanie/jak_korzystac_z_serwisu_github_i_waffle.html">
            
                
                    <a href="../../Programowanie/jak_korzystac_z_serwisu_github_i_waffle.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.13.</b>
                        
                        Jak korzystać z serwisu GitHub?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.14" data-path="Programowanie/jak_korzystac_z_serwisu_waffle.html">
            
                
                    <a href="../../Programowanie/jak_korzystac_z_serwisu_waffle.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.14.</b>
                        
                        Jak korzystać z serwisu Waffle?
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4" data-path="Analiza/analizadanych_z_programem_r_md.html">
            
                
                    <a href="../../Analiza/analizadanych_z_programem_r_md.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                        Analiza danych z programem R
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1" data-path="Analiza/eksploracja.html">
            
                
                    <a href="../../Analiza/eksploracja.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.</b>
                        
                        Eksploracja
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1.1" data-path="Analiza/jak_rozpoznac_rodzaj_zmiennej.html">
            
                
                    <a href="../../Analiza/jak_rozpoznac_rodzaj_zmiennej.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.1.</b>
                        
                        Jak rozpoznać rodzaj zmiennej?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.1.2" data-path="Analiza/jak_badac_rozklad_jednej_zmiennej.html">
            
                
                    <a href="../../Analiza/jak_badac_rozklad_jednej_zmiennej.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.2.</b>
                        
                        Jak badać rozkład jednej zmiennej?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.1.3" data-path="Analiza/jak_badac_rozklad_dwoch_zmiennych.html">
            
                
                    <a href="../../Analiza/jak_badac_rozklad_dwoch_zmiennych.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.3.</b>
                        
                        Jak badać rozkład dwóch zmiennych?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.1.4" data-path="Analiza/beznadzoru/mds.html">
            
                
                    <a href="../../Analiza/beznadzoru/mds.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.4.</b>
                        
                        Jak zmniejszyć wymiar danych? (skalowanie wielowymiarowe)
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1.4.1" data-path="Analiza/beznadzoru/mds_metric.html">
            
                
                    <a href="../../Analiza/beznadzoru/mds_metric.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.4.1.</b>
                        
                        Jak wykonać skalowanie metryczne?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.1.4.2" data-path="Analiza/beznadzoru/mds_non_metric.html">
            
                
                    <a href="../../Analiza/beznadzoru/mds_non_metric.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.4.2.</b>
                        
                        Jak wykonać skalowanie nie-metryczne?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.1.4.3" data-path="Analiza/beznadzoru/mds_classic.html">
            
                
                    <a href="../../Analiza/beznadzoru/mds_classic.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.4.3.</b>
                        
                        Jak wykonać skalowanie klasyczne?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.1.4.4" data-path="Analiza/beznadzoru/mds_pca.html">
            
                
                    <a href="../../Analiza/beznadzoru/mds_pca.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.4.4.</b>
                        
                        Jak wykorzystać metodę składowych głównych?
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.1.5" data-path="Analiza/beznadzoru/skupiska.html">
            
                
                    <a href="../../Analiza/beznadzoru/skupiska.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.5.</b>
                        
                        Jak znaleźć grupy w danych?
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1.5.1" data-path="Analiza/beznadzoru/dist.html">
            
                
                    <a href="../../Analiza/beznadzoru/dist.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.5.1.</b>
                        
                        Jak wyznaczać odległosć pomiędzy obserwacjami?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.1.5.2" data-path="Analiza/beznadzoru/kmeans.html">
            
                
                    <a href="../../Analiza/beznadzoru/kmeans.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.5.2.</b>
                        
                        Jak szukać partycji w oparciu o metodę k-średnich?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.1.5.3" data-path="Analiza/beznadzoru/pam.html">
            
                
                    <a href="../../Analiza/beznadzoru/pam.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.5.3.</b>
                        
                        Jak szukać partycji w oparciu o metodę k-medoidów?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.1.5.4" data-path="Analiza/beznadzoru/agnes.html">
            
                
                    <a href="../../Analiza/beznadzoru/agnes.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.5.4.</b>
                        
                        Jak wykonać analizę hierarchiczną?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.1.5.5" data-path="Analiza/beznadzoru/mclust.html">
            
                
                    <a href="../../Analiza/beznadzoru/mclust.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.5.5.</b>
                        
                        Jak szukać partycji w oparciu o mieszaniny rozkładów?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.1.5.6" data-path="Analiza/beznadzoru/em.html">
            
                
                    <a href="../../Analiza/beznadzoru/em.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.5.6.</b>
                        
                        Jak działa algorytm EM?
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.1.6" data-path="Analiza/beznadzoru/rules.html">
            
                
                    <a href="../../Analiza/beznadzoru/rules.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.6.</b>
                        
                        Jak szukać reguł asocjacyjnych?
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="Analiza/weryfikacja.html">
            
                
                    <a href="../../Analiza/weryfikacja.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.2.</b>
                        
                        Weryfikacja
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.2.1" data-path="Analiza/Weryfikacja/wprowadzenie.html">
            
                
                    <a href="../../Analiza/Weryfikacja/wprowadzenie.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.2.1.</b>
                        
                        Wprowadzenie do testowania
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.2.2" data-path="Analiza/jak_badac_wlasciwosci_jednej_zmiennej.html">
            
                
                    <a href="../../Analiza/jak_badac_wlasciwosci_jednej_zmiennej.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.2.2.</b>
                        
                        Jak badać właściwości jednej zmiennej?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.2.3" data-path="Analiza/jak_badac_zaleznosci_pomiedzy_para_zmiennych.html">
            
                
                    <a href="../../Analiza/jak_badac_zaleznosci_pomiedzy_para_zmiennych.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.2.3.</b>
                        
                        Jak badać zależności pomiędzy parą zmiennych?
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="Wizualizacja/wizualizacja.html">
            
                
                    <a href="../../Wizualizacja/wizualizacja.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.3.</b>
                        
                        Wizualizacja
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.3.1" data-path="Wizualizacja/jak_tworzyc_wykresy_ggplot2.html">
            
                
                    <a href="../../Wizualizacja/jak_tworzyc_wykresy_ggplot2.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.3.1.</b>
                        
                        Jak tworzyć wykresy z pakietem ggplot2?
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.3.1.1" data-path="Wizualizacja/ggplot2/01_pierwszy_wykres.html">
            
                
                    <a href="../../Wizualizacja/ggplot2/01_pierwszy_wykres.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.3.1.1.</b>
                        
                        Jak zrobić pierwszy wykres?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.3.1.2" data-path="Wizualizacja/ggplot2/02_mapowania.html">
            
                
                    <a href="../../Wizualizacja/ggplot2/02_mapowania.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.3.1.2.</b>
                        
                        Jak określać mapowania?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.3.1.3" data-path="Wizualizacja/ggplot2/03_geometrie.html">
            
                
                    <a href="../../Wizualizacja/ggplot2/03_geometrie.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.3.1.3.</b>
                        
                        Jak określać geometrię?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.3.1.4" data-path="Wizualizacja/ggplot2/04_warstwy.html">
            
                
                    <a href="../../Wizualizacja/ggplot2/04_warstwy.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.3.1.4.</b>
                        
                        Jak składać wykres z kilku warstw?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.3.1.5" data-path="Wizualizacja/ggplot2/05_statystyki.html">
            
                
                    <a href="../../Wizualizacja/ggplot2/05_statystyki.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.3.1.5.</b>
                        
                        Jak określać statystyki?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.3.1.6" data-path="Wizualizacja/ggplot2/06_panele.html">
            
                
                    <a href="../../Wizualizacja/ggplot2/06_panele.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.3.1.6.</b>
                        
                        Jak tworzyć panele?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.3.1.7" data-path="Wizualizacja/ggplot2/07_skale.html">
            
                
                    <a href="../../Wizualizacja/ggplot2/07_skale.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.3.1.7.</b>
                        
                        Jak modyfikować skale?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.3.1.8" data-path="Wizualizacja/ggplot2/08_wspolrzedne.html">
            
                
                    <a href="../../Wizualizacja/ggplot2/08_wspolrzedne.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.3.1.8.</b>
                        
                        Jak modyfikować układ współrzędnych?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.3.1.9" data-path="Wizualizacja/ggplot2/09_styl.html">
            
                
                    <a href="../../Wizualizacja/ggplot2/09_styl.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.3.1.9.</b>
                        
                        Jak modyfikować styl wykresu?
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.3.2" data-path="Wizualizacja/jak_tworzyc_interaktywne_wykresy.html">
            
                
                    <a href="../../Wizualizacja/jak_tworzyc_interaktywne_wykresy.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.3.2.</b>
                        
                        Jak tworzyć interaktywne wykresy?
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5" data-path="references.html">
            
                
                    <a href="../../references.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                        Bibliografia
                    </a>
            
            
        </li>
    


            
            <li class="divider"></li>
            <li>
                <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                    Published with GitBook
                </a>
            </li>
            
        </ul>
    </nav>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header" role="navigation">
    <!-- Actions Left -->
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../../" >Przewodnik po pakiecie R v. 4.0</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1" role="main">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <h1 id="jak-analizowa&#x107;-czas-dzia&#x142;ania-kodu-r">Jak analizowa&#x107; czas dzia&#x142;ania kodu R?</h1>
<p>Skrypty R dzia&#x142;aj&#x105; za wolno?</p>
<p>To z pewno&#x15B;ci&#x105; wina tych leniwych tw&#xF3;rc&#xF3;w R, kt&#xF3;rzy co&#x15B; &#x17A;le zrobili!</p>
<p>...</p>
<p>A mo&#x17C;e nie?</p>
<p>A mo&#x17C;e to nasz kod jest nieefektywnie napisany?</p>
<p>Je&#x17C;eli dopuszczasz tak&#x105; mo&#x17C;liwo&#x15B;&#x107; to przydadz&#x105; Ci si&#x119; narz&#x119;dzia do analizy czasu dzia&#x142;ania kodu R.</p>
<h1 id="czas-dzia&#x142;ania-zbioru-instrukcji">Czas dzia&#x142;ania zbioru instrukcji</h1>
<p>Funkcja <code>system.time()</code> zlicza jak d&#x142;ugo (w sekundach) wykonuje si&#x119; okre&#x15B;lony zbi&#xF3;r instrukcji.
Raportowane s&#x105; trzy liczby, <code>elapsed</code> - czyli ile czasu min&#x119;&#x142;o, <code>user</code> - ile czasu procesora zu&#x17C;y&#x142; R, <code>system</code> - ile czasu procesora zu&#x17C;y&#x142;y w tym czasie procesy poza R.</p>
<p>Stw&#xF3;rzmy du&#x17C;&#x105; ramk&#x119; danych i zobaczmy jak d&#x142;ugo trwa policzenie na niej regresji liniowej.</p>
<pre><code class="lang-r">system.time({
  N &lt;- <span class="hljs-number">2000</span>
  df &lt;- as.data.frame(matrix(runif(<span class="hljs-number">2</span>*N*N), <span class="hljs-number">2</span>*N, N))
  tmp &lt;- summary(lm(V1~., data=df))
})
</code></pre>
<pre><code>##    user  system elapsed 
##  14.472   0.280  14.794
</code></pre><p>Kilkana&#x15B;cie sekund! </p>
<h1 id="profiler">Profiler</h1>
<p>Mierzenie ca&#x142;kowitego czasu dzia&#x142;ania mo&#x17C;e by&#x107; przydatne, cho&#x107; cz&#x119;sto chcieliby&#x15B;my czego&#x15B; wi&#x119;cej. Wiadomo, &#x17C;e funkcja <code>lm()</code> wywo&#x142;uje pod funkcje. Kt&#xF3;ra z nich zabiera lwi&#x105; cz&#x119;&#x15B;&#x107; czasu dzia&#x142;ania?</p>
<p>Aby to sprawdzi&#x107; mo&#x17C;na wykorzysta&#x107; funkcj&#x119; <code>Rprof()</code>.
Uaktywnia ona profiler, kt&#xF3;ry do okre&#x15B;lony czas (argument <code>interval</code>, domy&#x15B;lnie 0.02 sek) sprawdza jak wygl&#x105;da stos wywo&#x142;a&#x144; R. Informacje o tym stosie wywo&#x142;a&#x144; s&#x105; zapisywane w pliku wskazanym przez argument <code>filename</code>, domy&#x15B;lnie w pliku <code>Rprof.out</code>.</p>
<pre><code class="lang-r">Rprof(<span class="hljs-string">&quot;profiler.out&quot;</span>, interval = <span class="hljs-number">0.01</span>, memory.profiling=<span class="hljs-literal">TRUE</span>)
  N &lt;- <span class="hljs-number">2000</span>
  df &lt;- as.data.frame(matrix(runif(<span class="hljs-number">2</span>*N*N), <span class="hljs-number">2</span>*N, N))
  tmp &lt;- summary(lm(V1~., data=df))
Rprof()
</code></pre>
<p>Fragment pliku <code>Rprof.out</code> jest przedstawiony poni&#x17C;ej. Pierwsze kolumny opisuj&#x105; zaj&#x119;to&#x15B;&#x107; pami&#x119;ci, ostatnia wymienia funkcje, kt&#xF3;re aktualnie znajduj&#x105; si&#x119; na stosie wywo&#x142;ania.</p>
<pre><code>memory profiling: sample.interval=10000
:2707201:50881097:139412560:121:&quot;runif&quot; &quot;matrix&quot; &quot;as.data.frame&quot; 
:2707201:50881097:139412560:0:&quot;runif&quot; &quot;matrix&quot; &quot;as.data.frame&quot; 
:2707201:50881097:139412560:0:&quot;runif&quot; &quot;matrix&quot; &quot;as.data.frame&quot; 
:2707201:50881097:139412560:0:&quot;runif&quot; &quot;matrix&quot; &quot;as.data.frame&quot; 
:2707206:58881410:139413624:0:&quot;matrix&quot; &quot;as.data.frame&quot; 
:2707206:58881410:139413624:0:&quot;matrix&quot; &quot;as.data.frame&quot; 
:2707206:58881410:139413624:0:&quot;matrix&quot; &quot;as.data.frame&quot; 
:2707206:58881410:139413624:0:&quot;matrix&quot; &quot;as.data.frame&quot; 
:2708210:64700854:140252056:0:&quot;as.vector&quot; &quot;as.data.frame.matrix&quot; &quot;as.data.frame&quot;
</code></pre><p>Analiza bezpo&#x15B;rednia pliku <code>Rprof.out</code> nie jest &#x142;atwa, poniewa&#x17C; ten plik trzeba odpowiednio przetworzy&#x107; aby wyliczy&#x107;, kt&#xF3;ra funkcja jak d&#x142;ugo dzia&#x142;ania. </p>
<p>To przetworzenie jest wykonywane funkcj&#x105; <code>summaryRprof()</code>. Zwraca ona list&#x119; z czterema elementami:</p>
<ul>
<li><code>by.self</code> informacja, kt&#xF3;ra funkcja jak d&#x142;ugo dzia&#x142;a&#x142;a, uporz&#x105;dkowana zgodnie z czasem dzia&#x142;ania wy&#x142;&#x105;cznie danej funkcji bez podfunkcji.</li>
<li><code>by.total</code> informacja, kt&#xF3;ra funkcja jak d&#x142;ugo dzia&#x142;a&#x142;a wliczaj&#x105;c czas dzia&#x142;ania podfunkcji,</li>
<li><code>sample.interval</code>, cz&#x119;sto&#x15B;&#x107; pr&#xF3;bkowania kodu,</li>
<li><code>sampling.time</code>, czas trwania ca&#x142;ego analizowanego kodu.</li>
</ul>
<p>Poni&#x17C;ej przedstawiamy przyk&#x142;ad dzia&#x142;ania</p>
<pre><code class="lang-r">summaryRprof(<span class="hljs-string">&quot;profiler.out&quot;</span>)$by.self
</code></pre>
<pre><code>##                           self.time self.pct total.time total.pct
## &quot;lm.fit&quot;                       9.84    75.17       9.84     75.17
## &quot;chol2inv&quot;                     1.89    14.44       1.89     14.44
## &quot;runif&quot;                        0.30     2.29       0.30      2.29
## &quot;na.omit.data.frame&quot;           0.15     1.15       0.26      1.99
## &quot;makepredictcall.default&quot;      0.12     0.92       0.12      0.92
## &quot;.External2&quot;                   0.11     0.84       0.42      3.21
## &quot;matrix&quot;                       0.08     0.61       0.38      2.90
## &quot;[.data.frame&quot;                 0.08     0.61       0.08      0.61
## &quot;as.vector&quot;                    0.08     0.61       0.08      0.61
## &quot;.External&quot;                    0.07     0.53       0.07      0.53
## &quot;na.omit&quot;                      0.05     0.38       0.31      2.37
## &quot;&lt;Anonymous&gt;&quot;                  0.03     0.23      13.09    100.00
## &quot;paste&quot;                        0.03     0.23       0.10      0.76
## &quot;is.na&quot;                        0.03     0.23       0.03      0.23
## &quot;summary.lm&quot;                   0.02     0.15       1.91     14.59
## &quot;model.frame.default&quot;          0.02     0.15       0.61      4.66
## &quot;match&quot;                        0.02     0.15       0.06      0.46
## &quot;sys.call&quot;                     0.02     0.15       0.02      0.15
## &quot;eval&quot;                         0.01     0.08      13.09    100.00
## &quot;model.matrix&quot;                 0.01     0.08       0.22      1.68
## &quot;model.matrix.default&quot;         0.01     0.08       0.21      1.60
## &quot;makepredictcall&quot;              0.01     0.08       0.13      0.99
## &quot;[[.data.frame&quot;                0.01     0.08       0.09      0.69
## &quot;deparse&quot;                      0.01     0.08       0.07      0.53
## &quot;%in%&quot;                         0.01     0.08       0.05      0.38
## &quot;.deparseOpts&quot;                 0.01     0.08       0.04      0.31
## &quot;.subset2&quot;                     0.01     0.08       0.01      0.08
## &quot;all&quot;                          0.01     0.08       0.01      0.08
## &quot;c&quot;                            0.01     0.08       0.01      0.08
## &quot;is.ordered&quot;                   0.01     0.08       0.01      0.08
## &quot;nargs&quot;                        0.01     0.08       0.01      0.08
## &quot;paste0&quot;                       0.01     0.08       0.01      0.08
## &quot;sum&quot;                          0.01     0.08       0.01      0.08
</code></pre><h2 id="graficzne-statystyki-z-pakietem-profr">Graficzne statystyki z pakietem profr</h2>
<p>Funkcja <code>summaryRprof()</code> przedstawia statystyki dzia&#x142;ania w spos&#xF3;b tekstowy. Ale cz&#x119;sto dobrym uzupe&#x142;nieniem takiej informacji jest wykres, pokazuj&#x105;cy jak d&#x142;ugo trwaj&#x105; kt&#xF3;re funkcje i podfunkcje.</p>
<p>Tak&#x105; graficzn&#x105; analiz&#x119; kodu mo&#x17C;na wykona&#x107; pakietem <code>profr</code> (nie zgadniecie kto jest tw&#xF3;rc&#x105; tego pakietu, tak Hadley Wickham). </p>
<p>Pakiet ten wykorzysta&#x107; mo&#x17C;na na dwa sposoby. Mo&#x17C;na funkcj&#x105; <code>parse_rprof()</code> odczyta&#x107; plik utworzony przez <code>Rprof()</code>. Lub (co jest zalecane) profilowanie mo&#x17C;na wykona&#x107; funkcj&#x105; <code>profr()</code>, kt&#xF3;ra zawiera dodatkowe informacje o czasie wykonania.</p>
<p>Poni&#x17C;ej te dodatkowe informacje s&#x105; wypisywane, dodatkowo generyczna funkcja <code>plot()</code> przedstawia graficznie stos wywo&#x142;a&#x144; funkcji.</p>
<pre><code class="lang-r"><span class="hljs-keyword">library</span>(profr)
pro &lt;- profr({
  N &lt;- <span class="hljs-number">2000</span>
  df &lt;- as.data.frame(matrix(runif(<span class="hljs-number">2</span>*N*N), <span class="hljs-number">2</span>*N, N))
  tmp &lt;- summary(glm(V1~., data=df))
}, <span class="hljs-number">0.01</span>)
head(pro)
</code></pre>
<pre><code>##    level g_id t_id                    f start   end n  leaf  time source
## 28     1    1    1        as.data.frame  0.00  0.44 1 FALSE  0.44   base
## 29     1    2    1              summary  0.44 23.40 1 FALSE 22.96   base
## 30     2    1    1               matrix  0.00  0.33 1 FALSE  0.33   base
## 31     2    2    1 as.data.frame.matrix  0.33  0.44 1 FALSE  0.11   base
## 32     2    3    1                  glm  0.44 21.20 1 FALSE 20.76  stats
## 33     2    4    1          summary.glm 21.20 23.40 1 FALSE  2.20  stats
</code></pre><pre><code class="lang-r">plot(pro)
</code></pre>
<p><img src="figure/profiler-1.png" alt="plot of chunk profiler"></p>
<p>Na bazie tego jednego wykresu &#x142;atwo zauwa&#x17C;y&#x107;, &#x17C;e generowanie danych trwa&#x142;o chwil&#x119;, wywo&#x142;anie <code>summary()</code> trwa&#x142;o troch&#x119; d&#x142;u&#x17C;ej, a najwi&#x119;cej czasu zabra&#x142;a funkcja <code>glm()</code></p>
<h2 id="ale-po-co-nam-to">Ale po co nam to?</h2>
<p>Mierz&#x105;c czas dzia&#x142;ania, mo&#x17C;emy por&#xF3;wna&#x107; kilka potencjalnych rozwi&#x105;za&#x144; i wybra&#x107; lepsze.</p>
<p>Zobaczmy na przyk&#x142;ad, w jaki spos&#xF3;b tworzy&#x107; wektor 100 000 losowych liczb z rozk&#x142;adu jednostajnego. Por&#xF3;wnamy cztery mo&#x17C;liwe rozwi&#x105;zania i zobaczymy kt&#xF3;re jest najszybsze.</p>
<pre><code class="lang-r">system.time({ x=<span class="hljs-literal">NULL</span>; <span class="hljs-keyword">for</span> (i <span class="hljs-keyword">in</span> <span class="hljs-number">1</span>:<span class="hljs-number">10</span>^<span class="hljs-number">5</span>) x =c(x, runif(<span class="hljs-number">1</span>)) })
</code></pre>
<pre><code>##    user  system elapsed 
##  17.573  13.793  31.471
</code></pre><pre><code class="lang-r">system.time({ x=<span class="hljs-literal">NULL</span>; <span class="hljs-keyword">for</span> (i <span class="hljs-keyword">in</span> <span class="hljs-number">1</span>:<span class="hljs-number">10</span>^<span class="hljs-number">5</span>) x[i] =runif(<span class="hljs-number">1</span>) })
</code></pre>
<pre><code>##    user  system elapsed 
##  10.191  13.802  24.573
</code></pre><pre><code class="lang-r">system.time({x=numeric(<span class="hljs-number">10</span>^<span class="hljs-number">5</span>); <span class="hljs-keyword">for</span>(i <span class="hljs-keyword">in</span> <span class="hljs-number">1</span>:<span class="hljs-number">10</span>^<span class="hljs-number">5</span>) x[i]=runif(<span class="hljs-number">1</span>)})
</code></pre>
<pre><code>##    user  system elapsed 
##   0.375   0.059   0.482
</code></pre><pre><code class="lang-r">system.time({ x=<span class="hljs-literal">NULL</span>; x = runif(<span class="hljs-number">10</span>^<span class="hljs-number">5</span>) })
</code></pre>
<pre><code>##    user  system elapsed 
##   0.004   0.000   0.003
</code></pre><p>Pierwsze dwa dynamicznie rozci&#x105;gaj&#x105; wektor, co w R oznacza kopiowanie w k&#xF3;&#x142;ko ca&#x142;ego wektora wynik&#xF3;w. Trwa to d&#x142;ugo. Inicjacja wektora pustymi warto&#x15B;ciami powoduje &#x17C;e czas oblicze&#x144; skr&#xF3;ci&#x142; si&#x119; 30 razy. Wektoryzacja oblicze&#x144; skraca czas oblicze&#x144; o kolejne 10 razy.</p>
<h2 id="z-dok&#x142;adno&#x15B;ci&#x105;-do-mikrosekundy">Z dok&#x142;adno&#x15B;ci&#x105; do mikrosekundy</h2>
<p>Je&#x17C;eli mierzenie czasu dzia&#x142;ania z dok&#x142;adno&#x15B;ci&#x105; do sekundy nie jest wystarczaj&#x105;ce, to warto skorzysta&#x107; z biblioteki <code>microbenchmark</code>. Nie do&#x15B;&#x107;, &#x17C;e powtarza ona okre&#x15B;lone instrukcje wiele razy (domy&#x15B;lnie 100), to jeszcze prezentuje graficznie i tekstowo rozk&#x142;ad czas&#xF3;w dzia&#x142;ania.</p>
<p>W poni&#x17C;szym przyk&#x142;adzie por&#xF3;nujemy ponownie cztery sposoby losowania wektora liczb.</p>
<pre><code class="lang-r"><span class="hljs-keyword">library</span>(microbenchmark)
<span class="hljs-keyword">library</span>(ggplot2)

pro &lt;- microbenchmark(
  skladanie = { x=<span class="hljs-literal">NULL</span>; <span class="hljs-keyword">for</span> (i <span class="hljs-keyword">in</span> <span class="hljs-number">1</span>:<span class="hljs-number">10</span>^<span class="hljs-number">3</span>) x =c(x, runif(<span class="hljs-number">1</span>)) },
  skladanie2 = { x=<span class="hljs-literal">NULL</span>; <span class="hljs-keyword">for</span> (i <span class="hljs-keyword">in</span> <span class="hljs-number">1</span>:<span class="hljs-number">10</span>^<span class="hljs-number">3</span>) x[i] =runif(<span class="hljs-number">1</span>) },
  inicjacja = {x=numeric(<span class="hljs-number">10</span>^<span class="hljs-number">3</span>); <span class="hljs-keyword">for</span>(i <span class="hljs-keyword">in</span> <span class="hljs-number">1</span>:<span class="hljs-number">10</span>^<span class="hljs-number">3</span>) x[i]=runif(<span class="hljs-number">1</span>)},
  wektoryzacja = { x=<span class="hljs-literal">NULL</span>; x = runif(<span class="hljs-number">10</span>^<span class="hljs-number">3</span>) })

boxplot(pro)
</code></pre>
<p><img src="figure/mikroprofilowanie-1.png" alt="plot of chunk mikroprofilowanie"></p>
<pre><code class="lang-r">autoplot(pro)
</code></pre>
<p><img src="figure/mikroprofilowanie-2.png" alt="plot of chunk mikroprofilowanie"></p>
<h1 id="materia&#x142;y">Materia&#x142;y</h1>
<p>Kilka bardzo ciekawych zada&#x144; do rozwi&#x105;zania mo&#x17C;na znale&#x17A;&#x107; na stronie:</p>
<p><a href="http://www.nimbios.org/ifiles/hpc/1_basics.pdf" target="_blank">http://www.nimbios.org/ifiles/hpc/1_basics.pdf</a></p>
<p><a href="http://www.nimbios.org/ifiles/hpc/2_performance.pdf" target="_blank">http://www.nimbios.org/ifiles/hpc/2_performance.pdf</a></p>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="../../Programowanie/pazury/debugowanie.html" class="navigation navigation-prev " aria-label="Previous page: Jak debugować kod R?"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../../Programowanie/pazury/rownolegle.html" class="navigation navigation-next " aria-label="Next page: Jak zrównoleglić obliczenia w R?"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="../../gitbook/app.js"></script>

    
    <script src="../../gitbook/plugins/gitbook-plugin-ga/plugin.js"></script>
    

    
    <script src="../../gitbook/plugins/gitbook-plugin-expandable-chapters/expandable-chapters.js"></script>
    

    
    <script src="../../gitbook/plugins/gitbook-plugin-github/plugin.js"></script>
    

    
    <script src="../../gitbook/plugins/gitbook-plugin-search/lunr.min.js"></script>
    

    
    <script src="../../gitbook/plugins/gitbook-plugin-search/search.js"></script>
    

    
    <script src="../../gitbook/plugins/gitbook-plugin-sharing/buttons.js"></script>
    

    
    <script src="../../gitbook/plugins/gitbook-plugin-fontsettings/buttons.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"ga":{"token":"UA-5650686-13","configuration":"auto"},"github":{"url":"https://github.com/pbiecek/Przewodnik"},"katex":{},"expandable-chapters":{},"highlight":{},"search":{"maxIndexSize":1000000},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
